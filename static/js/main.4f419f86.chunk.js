(this["webpackJsonprate-film-app"]=this["webpackJsonprate-film-app"]||[]).push([[0],{138:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var s,c=a(1),n=a.n(c),r=a(39),i=a.n(r),l=a(221),o=a(146),j=a(13),d=(a(169),a(25)),b=a(15),u=a(143),m=function(){var e=localStorage.getItem("userToken");return e?JSON.parse(e):null},O=a(22),h=a.n(O),f=a(92),x=a(43),p="https://rfilm.mswan.ru/api/v1",v=function(){var e=Object(x.a)(h.a.mark((function e(t,a){var s,c,n,r,i,l,o,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=new URLSearchParams,c=Object(f.a)(t);try{for(c.s();!(n=c.n()).done;)r=n.value,s.append("genre",r)}catch(d){c.e(d)}finally{c.f()}return i="".concat(p,"/films?").concat(s),l={},a&&(l={Authorization:"Bearer ".concat(a.access_token)}),e.next=8,fetch(i,{headers:l});case 8:return o=e.sent,e.next=11,o.json();case 11:return j=e.sent,e.abrupt("return",{statusCode:o.status,data:j});case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(p,"/films/").concat(t),e.next=3,fetch(a);case 3:return s=e.sent,e.next=6,s.json();case 6:return c=e.sent,e.abrupt("return",{statusCode:s.status,data:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(x.a)(h.a.mark((function e(t,a,s){var c,n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={username:t,email:a,password:s},n="".concat(p,"/users"),e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",{statusCode:r.status,data:i});case 9:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),y=function(){var e=Object(x.a)(h.a.mark((function e(t,a){var s,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(p,"/users/token"),(c=new FormData).append("username",t),c.append("password",a),e.next=6,fetch(s,{body:c,method:"post"});case 6:return n=e.sent,e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",{statusCode:n.status,data:r});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(p,"/users/me"),e.next=3,fetch(a,{headers:{Authorization:"Bearer ".concat(t.access_token)}});case 3:return s=e.sent,e.next=6,s.json();case 6:return c=e.sent,e.abrupt("return",{statusCode:s.status,data:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(h.a.mark((function e(t,a){var s,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={display_name:t},c="".concat(p,"/users/me"),e.next=4,fetch(c,{method:"PATCH",headers:{Authorization:"Bearer ".concat(a.access_token),"Content-Type":"application/json"},body:JSON.stringify(s)});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",{statusCode:n.status,data:r});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(h.a.mark((function e(t,a,s){var c,n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(p,"/rating"),n={film_id:t,score:a},e.next=4,fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.access_token)},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",{statusCode:r.status,data:i});case 9:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),S=(a(171),a(2)),I=function(e){var t=e.setIsSignUpWindowVisible;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("button",{className:"btn btn-primary",onClick:function(){return t(!0)},children:"Sign Up"})})},F=(a(173),function(e){var t=e.setIsModalVisible;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("button",{className:"btn btn-primary",onClick:function(){t(!0)},children:"Log In"})})}),T=a(58),A=(a(174),function(e,t){var a=e.user,s=t.token;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"wrapper-thumb-menu",children:[Object(S.jsx)("img",{className:"thumb-avatar",alt:"user-avatar",src:"https://images.fandango.com/cms/assets/a2f0b9d0-cf84-11eb-a507-3be98bb99253--actordefaulttmb.gif"}),Object(S.jsx)("span",{className:"thumb-menu-username",children:a.username}),Object(S.jsx)("p",{className:"dropdown-arrow",children:Object(S.jsx)(T.a,{})})]}),Object(S.jsxs)("ul",{className:"list-dropdown-items",children:[Object(S.jsx)("li",{className:"dropdown-item",children:Object(S.jsx)(d.b,{className:"dropdown-link",to:"/profile",children:"Profile"})}),Object(S.jsx)("li",{className:"dropdown-item",children:Object(S.jsx)("a",{className:"dropdown-link",onClick:function(){return function(e){JSON.stringify(e),localStorage.removeItem("userToken")}(s)},href:"/",children:"Log out"})})]})]})}),L=(a(179),function(e){var t=e.children,a=e.className,s="btn ".concat(a);return Object(S.jsx)("button",{className:s,children:t})}),M=(a(180),function(e){var t=e.setIsModalVisible,a=e.setIsSignUpWindowVisible,s=Object(c.useState)(),n=Object(j.a)(s,2),r=n[0],i=n[1],l=Object(c.useState)(!0),o=Object(j.a)(l,2),b=o[0],O=o[1];return Object(c.useEffect)((function(){O(!0);var e=m();if(!e)return i(null),void O(!1);w(e).then((function(e){i(e.data),O(!1)}))}),[]),b&&S.Fragment,Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"header-background-line",children:Object(S.jsx)("div",{className:"main-container",children:Object(S.jsxs)("header",{className:"header-container",children:[Object(S.jsx)("div",{className:"header-logo",children:Object(S.jsxs)(d.b,{to:"/",className:"navbar-logo",children:[Object(S.jsx)(u.a,{className:"navbar-icon"}),Object(S.jsxs)("h4",{className:"navbar-title",children:["Rate",Object(S.jsx)("span",{className:"highlight",children:"Film"})]})]})}),Object(S.jsx)("nav",{className:"main-nav",children:r?Object(S.jsxs)("ul",{className:"nav-list",children:[Object(S.jsx)("li",{className:"nav-list-item",children:Object(S.jsx)(d.b,{to:"/",className:"btn-link",children:Object(S.jsx)(L,{className:"btn-primary",children:"List Of Films"})})}),Object(S.jsx)("li",{className:"nav-list-item",children:Object(S.jsx)(A,{user:r})})]}):Object(S.jsxs)("ul",{className:"nav-list",children:[Object(S.jsx)("li",{className:"nav-list-item",children:Object(S.jsx)(d.b,{to:"/",className:"btn-link",children:Object(S.jsx)(L,{className:"btn-primary",children:"List Of Films"})})}),Object(S.jsx)("li",{className:"nav-list-item",children:Object(S.jsx)(I,{setIsSignUpWindowVisible:a})}),Object(S.jsx)("li",{className:"nav-list-item",children:Object(S.jsx)(F,{setIsModalVisible:t})})]})})]})})})})}),W=a(21),_=a(130),U=a(129),E=(a(181),function(e){var t=e.rating,a=e.filmId,s=Object(c.useState)(t),n=Object(j.a)(s,2),r=n[0],i=n[1],l=function(e){var t=m();if(null!==t){var s=Object(W.a)(Object(W.a)({},r),{},{user_vote:e});i(s),C(a,e,t).then((function(e){i(e.data)}))}else alert("Only registered users can vote.")};return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"rating",children:Object(S.jsxs)("div",{className:"rate-box",children:[Object(S.jsx)("div",{className:"rating-props",children:r.user_vote>0?Object(S.jsx)("button",{className:"rating-props-button-clicked",disabled:!0,children:Object(S.jsx)(U.b,{})}):Object(S.jsx)("button",{className:"rating-props-button",onClick:function(){return l(1)},children:Object(S.jsx)(_.b,{})})}),Object(S.jsxs)("div",{className:"rating-count",children:[Object(S.jsx)("span",{className:"rate-num",children:r.score_with_sign}),Object(S.jsx)("div",{className:"vote-num",children:Object(S.jsxs)("span",{className:"all-votes",children:["Votes: ",r.votes_count]})})]}),Object(S.jsx)("div",{className:"rating-const",children:r.user_vote<0?Object(S.jsx)("button",{className:"rating-const-button-clicked",disabled:!0,children:Object(S.jsx)(U.a,{})}):Object(S.jsx)("button",{className:"rating-const-button",onClick:function(){return l(-1)},children:Object(S.jsx)(_.a,{})})})]})})})}),V=a(144),P=a(9),z=a(145),B=a.n(z),J=function(e){e.isVisible;var t=Object(c.useState)("#f9c64e"),a=Object(j.a)(t,2),n=a[0],r=(a[1],Object(P.css)(s||(s=Object(V.a)(["\n    flex: 0 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-color: red;\n    height: 500px;\n  "]))));return Object(S.jsx)("div",{children:Object(S.jsx)(B.a,{css:r,size:30,color:n})})},G=(a(187),function(e){var t=e.genres,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(!0),l=Object(j.a)(i,2),o=l[0],b=l[1];return Object(c.useEffect)((function(){b(!0);var e=m();v(t,e).then((function(e){r(e.data),b(!1)}))}),[t]),Object(S.jsx)(S.Fragment,{children:o?Object(S.jsx)(J,{isVisible:o}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"cards-film-container",children:n.map((function(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"cards-film",children:[Object(S.jsxs)("div",{className:"cards-film-poster",children:[Object(S.jsx)(d.b,{to:"/films/".concat(e.id),children:Object(S.jsx)("img",{src:e.poster_url,alt:"poster film"},e.id)}),Object(S.jsx)(E,{rating:e.rating,filmId:e.id})]}),Object(S.jsxs)("div",{className:"cards-film-content",children:[Object(S.jsxs)("div",{className:"cards-film-description",children:[Object(S.jsx)("h2",{className:"cards-film-title",children:e.title}),Object(S.jsxs)("p",{className:"cards-film-translate-name",children:[e.title_ru,", ",e.release_year]}),Object(S.jsxs)("p",{className:"cards-film-country",children:[e.country,", ",e.genre]}),Object(S.jsxs)("p",{className:"cards-film-director",children:["Directed by ","",Object(S.jsx)("span",{className:"director",children:e.director})]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{className:"cards-film-name-title",children:"Actors:"}),Object(S.jsx)("div",{className:"cards-film-image-wrapper",children:e.actors.slice(0,4).map((function(e){return Object(S.jsx)("img",{className:"img-actors",alt:"actors",src:e.photo_url},e.id)}))})]})]},e.title)]},e.id)})}))})})})}),D=a(148),R=(a(188),[{value:"action",label:"Action"},{value:"mystery",label:"Mystery"},{value:"thriller",label:"Thriller"},{value:"comedy",label:"Comedy"},{value:"family",label:"Family"},{value:"history",label:"History"},{value:"sci-fi",label:"Sci-Fi"},{value:"war",label:"War"},{value:"adventure",label:"Adventure"},{value:"crime",label:"Crime"},{value:"fantasy",label:"Fantasy"},{value:"horror",label:"Horror"},{value:"animation",label:"Animation"},{value:"documentary",label:"Documentary"},{value:"biography",label:"Biography"},{value:"drama",label:"Drama"},{value:"musical",label:"Musical"}]),Y=function(e){var t=e.setSelectedGenres;return Object(S.jsxs)("div",{className:"select-container",children:[Object(S.jsxs)("div",{className:"wrapper-checkbox",children:[Object(S.jsx)("input",{type:"checkbox",id:"checkbox1"}),Object(S.jsx)("label",{for:"checkbox1",disabled:!0,children:"most popular"})]}),Object(S.jsx)(D.a,{options:R,isMulti:!0,className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){t(e.map((function(e){return e.value})))}})]})},H=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Y,{setSelectedGenres:s}),Object(S.jsx)(G,{genres:a})]})},Q=a(222),Z=(a(200),function(){var e=Object(b.f)().id,t=Object(Q.a)("film",(function(){return N(e)})),a=t.isLoading,s=t.data;return Object(S.jsxs)("div",{children:[Object(S.jsx)(d.b,{to:"/",children:Object(S.jsx)(L,{className:"btn-back",children:"Back"})}),!a&&s?Object(S.jsxs)("div",{className:"film-page-container",children:[Object(S.jsxs)("div",{className:"film-page-poster-wrapper",children:[Object(S.jsx)("img",{className:"film-page-poster",src:s.data.poster_url,alt:"film poster"}),Object(S.jsx)(E,{rating:s.data.rating,filmId:e})]}),Object(S.jsxs)("div",{className:"film-page-content",children:[Object(S.jsx)("h2",{className:"film-page-title",children:s.data.title}),Object(S.jsxs)("h3",{children:[s.data.title_ru,", ",s.data.release_year]}),Object(S.jsxs)("p",{className:"film-page-country",children:[s.data.country,", ",s.data.genre]}),Object(S.jsx)("p",{className:"film-page-description",children:s.data.description}),Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:"Actors:"}),Object(S.jsx)("div",{className:"film-page-image-wrapper",children:s.data.actors.map((function(e){return Object(S.jsx)("img",{className:"img-actors",alt:"actors",src:e.photo_url},e.id)}))})]})]})]}):Object(S.jsx)("h2",{children:"Loading..."})]})}),X=(a(201),function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h2",{children:"Content 1"}),Object(S.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectet"}),Object(S.jsxs)("div",{className:"one-film",children:[Object(S.jsx)("div",{className:"rating-poster",children:Object(S.jsx)("img",{alt:"poster",src:"https://resizing.flixster.com/5avIoBUmkdWfFcA8QOn0VM8BI28=/170x243/v2/https://resizing.flixster.com/xQQsLC7IJypTxyRXeOvnPwdEWwE=/ems.ZW1zLXByZC1hc3NldHMvbW92aWVzLzE0ZWFjM2Y1LTYzNTYtNGIwNS1iNGU2LTk0NTA2MGQ3NjY3NC53ZWJw"})}),Object(S.jsxs)("div",{className:"name-of-film",children:[Object(S.jsx)("p",{className:"rating-movie-title",children:"Drive"}),Object(S.jsx)("p",{className:"translate-name",children:"\u0414\u0440\u0430\u0439\u0432, 2011"}),Object(S.jsx)("p",{className:"genre-of-the-film",children:"USA, Action/Crime"})]}),Object(S.jsxs)("div",{className:"rating-stars",children:[Object(S.jsx)(T.b,{}),Object(S.jsx)(T.b,{}),Object(S.jsx)(T.b,{}),Object(S.jsx)(T.b,{}),Object(S.jsx)(T.b,{})]})]})]})}),q=a(219),K=a(220),$=a(149),ee=function(e){var t=e.onSave,a=(e.icon,e.value),s=e.loading,r=e.error,i=Object($.a)(e,["onSave","icon","value","loading","error"]),l=Object(c.useState)(!1),o=Object(j.a)(l,2),d=o[0],b=o[1],u=Object(c.useState)(!1),m=Object(j.a)(u,2),O=(m[0],m[1]),f=Object(c.useState)(),p=Object(j.a)(f,2),v=p[0],N=p[1],g=Object(c.useState)(a||""),y=Object(j.a)(g,2),w=y[0],k=y[1];return Object(S.jsx)(n.a.Fragment,{children:Object(S.jsx)(K.a.Input,Object(W.a)({value:a,loading:s||d,disabled:s||d,error:r||v,onChange:function(){O(!1)},onBlur:function(){var e=Object(x.a)(h.a.mark((function e(a){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=a.target.value)===w){e.next=16;break}if(b(!0),e.prev=3,e.t0=t,!e.t0){e.next=8;break}return e.next=8,t(s);case 8:O(!0),b(!1),k(s),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(3),N("Error Message");case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},i))})},te=(a(204),function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"wrapper",children:[Object(S.jsx)("h2",{className:"user-account-header",children:"Account settings"}),Object(S.jsxs)(q.a,{children:[Object(S.jsx)("p",{children:"Here you can change some information about your account"}),Object(S.jsx)(K.a,{className:"form-account-settings-manage",children:Object(S.jsx)("div",{className:"input-container",children:Object(S.jsx)(ee,{width:8,icon:"user",label:"Display name",placeholder:"John Doe",onSave:function(e){k(e,m()).then((function(e){}))}})})})]})]})})}),ae=(a(205),function(){var e=Object(c.useState)(1),t=Object(j.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(),r=Object(j.a)(n,2),i=r[0],l=r[1],o=Object(c.useState)(!0),d=Object(j.a)(o,2),b=(d[0],d[1]);Object(c.useEffect)((function(){b(!0);var e=m();if(!e)return l(null),void b(!1);w(e).then((function(e){l(e.data),b(!1)}))}),[]);var u=function(e){s(e)};return Object(S.jsx)(S.Fragment,{children:i?Object(S.jsxs)("div",{className:"profile-container",children:[Object(S.jsx)("div",{className:"profile-header-section",children:Object(S.jsx)("h1",{className:"title",children:"User Profile Page"})}),Object(S.jsxs)("div",{className:"left-column",children:[Object(S.jsx)("div",{className:"avatar-widget",children:Object(S.jsx)("img",{alt:"user-avatar",src:"https://images.fandango.com/cms/assets/a2f0b9d0-cf84-11eb-a507-3be98bb99253--actordefaulttmb.gif"})}),Object(S.jsxs)("h2",{className:"user-name",children:[i.display_name," - ",i.username]})]}),Object(S.jsxs)("div",{className:"right-column",children:[Object(S.jsx)("div",{className:"nav-user-profile",children:Object(S.jsxs)("div",{className:"navigation",children:[Object(S.jsx)("button",{className:1===a?"tabs active-tabs":"tabs",onClick:function(){return u(1)},children:"Movie Ratings"}),Object(S.jsx)("button",{className:2===a?"tabs active-tabs":"tabs",onClick:function(){return u(2)},children:"Profile"}),Object(S.jsx)("button",{className:3===a?"tabs active-tabs":"tabs",onClick:function(){return u(3)},children:"Manage account"})]})}),Object(S.jsxs)("div",{className:"content-tabs",children:[Object(S.jsx)("div",{className:1===a?"content-film  active-content":"content-film",children:Object(S.jsx)(X,{})}),Object(S.jsxs)("div",{className:2===a?"content-film  active-content":"content-film",children:[Object(S.jsx)("h2",{children:"Content 2"}),Object(S.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectet"}),Object(S.jsxs)("div",{className:"one-film",children:[Object(S.jsx)("div",{className:"rating-poster",children:Object(S.jsx)("img",{alt:"poster",src:"https://resizing.flixster.com/5avIoBUmkdWfFcA8QOn0VM8BI28=/170x243/v2/https://resizing.flixster.com/xQQsLC7IJypTxyRXeOvnPwdEWwE=/ems.ZW1zLXByZC1hc3NldHMvbW92aWVzLzE0ZWFjM2Y1LTYzNTYtNGIwNS1iNGU2LTk0NTA2MGQ3NjY3NC53ZWJw"})}),Object(S.jsxs)("div",{className:"name-of-film",children:[Object(S.jsx)("p",{className:"rating-movie-title",children:"Drive"}),Object(S.jsx)("p",{className:"translate-name",children:"\u0414\u0440\u0430\u0439\u0432, 2011"}),Object(S.jsx)("p",{className:"genre-of-the-film",children:"USA, Action/Crime"})]})]})]}),Object(S.jsx)("div",{className:3===a?"content-film  active-content":"content-film",children:Object(S.jsx)(te,{})})]})]})]}):Object(S.jsx)("p",{children:"No user"})})}),se=(a(138),function(e){var t=e.setIsModalVisible,a=Object(c.useState)({username:"",password:""}),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(!1),l=Object(j.a)(i,2),o=(l[0],l[1]),d=Object(c.useState)(""),b=Object(j.a)(d,2),u=b[0],m=b[1];return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"modal-background",role:"dialog","aria-modal":"true",children:Object(S.jsxs)("div",{className:"modal-content",children:[Object(S.jsxs)("div",{className:"modal-header",children:[Object(S.jsx)("h3",{className:"modal-title",children:"SIGN IN"}),Object(S.jsx)("button",{className:"modal-close-btn",onClick:function(){return t(!1)}})]}),Object(S.jsx)("div",{className:"form-body",children:Object(S.jsx)("form",{children:Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{className:"form-group",children:[Object(S.jsx)("label",{className:"form-label",children:"Username"}),Object(S.jsx)("input",{className:"form-field ".concat(u?"form-field-error":""),type:"text",autoComplete:"on",name:"username",placeholder:"Jonny",value:n.username,onChange:function(e){return r(Object(W.a)(Object(W.a)({},n),{},{username:e.target.value}))}})]}),Object(S.jsxs)("li",{className:"form-group",children:[Object(S.jsx)("label",{className:"form-label",children:"Password"}),Object(S.jsx)("input",{className:"form-field ".concat(u?"form-field-error":""),type:"password",autoComplete:"on",name:"password",value:n.password,onChange:function(e){return r(Object(W.a)(Object(W.a)({},n),{},{password:e.target.value}))}})]}),Object(S.jsx)("p",{children:u}),Object(S.jsx)("li",{className:"form-group",children:Object(S.jsx)("button",{className:"login-submit-btn ".concat(n.username&&n.password?"":"btn-disabled"),type:"submit",onClick:function(e){e.preventDefault(),m(""),y(n.username,n.password).then((function(e){200===e.statusCode&&(!function(e){var t=JSON.stringify(e);localStorage.setItem("userToken",t)}(e.data),t(!1)),e.statusCode>=400&&e.statusCode<500&&m(e.data.detail),o(!0)}))},disabled:!n.username||!n.password,children:"LOG IN"})})]})})}),Object(S.jsx)("footer",{className:"modal-footer",children:Object(S.jsxs)("p",{className:"modal-footer-paragraph",children:["Don't have an account?",Object(S.jsx)("button",{className:"login-footer-btn",children:"SIGN UP HERE"})]})})]})})})}),ce={username:null,email:null,password:null},ne=function(e){var t=e.setIsSignUpWindowVisible,a=Object(c.useState)({username:"",email:"",password:""}),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(!1),l=Object(j.a)(i,2),o=(l[0],l[1]),b=Object(c.useState)(ce),u=Object(j.a)(b,2),m=u[0],O=u[1];return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"modal-background",role:"dialog","aria-modal":"true",children:Object(S.jsxs)("div",{className:"modal-content height",children:[Object(S.jsxs)("div",{className:"modal-header",children:[Object(S.jsx)("h3",{className:"modal-title",children:"SIGN UP FOR RATE FILM"}),Object(S.jsx)("button",{className:"modal-close-btn",onClick:function(){return t(!1)}})]}),Object(S.jsx)("div",{className:"form-body",children:Object(S.jsx)("form",{children:Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{className:"form-group",children:[Object(S.jsx)("label",{className:"form-label",children:"Your name on the website"}),Object(S.jsx)("input",{className:"form-field ".concat(m.username?"form-field-error":""),type:"text",name:"username",placeholder:"Jonny",value:n.username,onChange:function(e){return r(Object(W.a)(Object(W.a)({},n),{},{username:e.target.value}))}}),Object(S.jsx)("p",{className:"msg-error",children:m.username})]}),Object(S.jsxs)("li",{className:"form-group",children:[Object(S.jsx)("label",{className:"form-label",children:"Email address"}),Object(S.jsx)("input",{className:"form-field ".concat(m.email?"form-field-error":""),type:"email",autoComplete:"on",name:"email",placeholder:"jonny@gmail.com",value:n.email,onChange:function(e){return r(Object(W.a)(Object(W.a)({},n),{},{email:e.target.value}))}}),Object(S.jsx)("p",{className:"msg-error",children:m.email})]}),Object(S.jsxs)("li",{className:"form-group",children:[Object(S.jsx)("label",{className:"form-label",children:"Password"}),Object(S.jsx)("input",{className:"form-field ".concat(m.password?"form-field-error":""),type:"password",autoComplete:"on",name:"password",value:n.password,onChange:function(e){return r(Object(W.a)(Object(W.a)({},n),{},{password:e.target.value}))}}),Object(S.jsx)("p",{className:"msg-error",children:m.password})]}),Object(S.jsx)("li",{className:"form-group",children:Object(S.jsx)("button",{className:"login-submit-btn ".concat(n.username&&n.email&&n.password?"":"btn-disabled"),type:"submit",onClick:function(e){e.preventDefault(),O(ce),g(n.username,n.email,n.password).then((function(e){if(200===e.statusCode&&t(!1),e.statusCode>=400&&e.statusCode<500){var a,s=Object(W.a)({},ce),c=Object(f.a)(e.data.detail);try{for(c.s();!(a=c.n()).done;){var n=a.value;s[n.loc.slice(-1)[0]]=n.msg}}catch(r){c.e(r)}finally{c.f()}O(s)}o(!0)}))},disabled:!n.username||!n.email||!n.password,children:"CREATE YOUR ACCOUNT"})})]})})}),Object(S.jsxs)("footer",{className:"modal-footer",children:[Object(S.jsxs)("p",{className:"modal-footer-paragraph",children:["Already have an account?",Object(S.jsx)("button",{className:"signup-footer-link",children:"LOG IN HERE"})]}),Object(S.jsxs)("p",{className:"policy-text",children:["By creating an account, you agree to the"," ",Object(S.jsx)(d.b,{to:"https://www.fandango.com/policies/privacy-policy",className:"signup-footer-link small",children:"Privacy Policy"})," ","and the"," ",Object(S.jsxs)(d.b,{to:"https://www.fandango.com/policies/terms-and-policies",className:"signup-footer-link small",children:["Terms and Policies"," "]})]})]})]})})})};var re=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(j.a)(n,2),i=r[0],l=r[1];return Object(S.jsxs)(d.a,{children:[Object(S.jsxs)("div",{children:[a&&Object(S.jsx)(se,{setIsModalVisible:s}),i&&Object(S.jsx)(ne,{setIsSignUpWindowVisible:l})]}),Object(S.jsx)(M,{setIsModalVisible:s,setIsSignUpWindowVisible:l}),Object(S.jsx)("div",{className:"main-container",children:Object(S.jsxs)(b.c,{children:[Object(S.jsx)(b.a,{path:"/films/:id",children:Object(S.jsx)(Z,{})}),Object(S.jsx)(b.a,{path:"/profile",children:Object(S.jsx)(ae,{})}),Object(S.jsx)(b.a,{path:"/",children:Object(S.jsx)(H,{})})]})})]})},ie=new l.a,le=document.getElementById("root");i.a.render(Object(S.jsx)(o.a,{client:ie,children:Object(S.jsx)(re,{})}),le)}},[[206,1,2]]]);
//# sourceMappingURL=main.4f419f86.chunk.js.map