(this["webpackJsonprate-film-app"]=this["webpackJsonprate-film-app"]||[]).push([[0],{39:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},54:function(e,a,t){},60:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var s,c=t(1),n=t(26),r=t.n(n),l=t(87),i=t(43),o=t(8),j=(t(51),t(13)),d=t(7),b=t(40),m=(t(52),t(2)),u=function(e){var a=e.children,t=e.className,s="btn ".concat(t);return Object(m.jsx)("button",{className:s,children:a})},O=(t(54),function(e){var a=e.setIsModalVisible,t=e.setIsSignUpWindowVisible;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"header-background-line",children:Object(m.jsx)("div",{className:"main-container",children:Object(m.jsxs)("header",{className:"header-container",children:[Object(m.jsx)("div",{className:"header-logo",children:Object(m.jsxs)(j.b,{to:"/",className:"navbar-logo",children:[Object(m.jsx)(b.a,{className:"navbar-icon"}),Object(m.jsxs)("h4",{className:"navbar-title",children:["Rate",Object(m.jsx)("span",{className:"highlight",children:"Film"})]})]})}),Object(m.jsx)("nav",{className:"main-nav",children:Object(m.jsxs)("ul",{className:"nav-list",children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/",className:"btn-link",children:Object(m.jsx)(u,{className:"btn-primary",children:"List Of Films"})})}),Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:"btn btn-primary",onClick:function(){return t(!0)},children:"Sign Up"})}),Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(!0)},children:"Log In"})})]})})]})})})})}),h=t(35),p=(t(60),function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"rating",children:Object(m.jsxs)("div",{className:"rate-box",children:[Object(m.jsx)("div",{className:"rating-plus",children:Object(m.jsx)(h.b,{})}),Object(m.jsx)("div",{className:"rating-count",children:Object(m.jsx)("p",{className:"rate-num",children:"+7"})}),Object(m.jsx)("div",{className:"rating-minus",children:Object(m.jsx)(h.a,{})})]})})})}),f=t(41),x=t(45),v=t(42),N=t.n(v),g=function(e){e.isVisible;var a=Object(c.useState)("#f9c64e"),t=Object(o.a)(a,2),n=t[0],r=(t[1],Object(x.a)(s||(s=Object(f.a)(["\n    flex: 0 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-color: red;\n    height: 500px;\n  "]))));return Object(m.jsx)("div",{children:Object(m.jsx)(N.a,{css:r,size:30,color:n})})},y=t(17),w=t.n(y),C=t(28),k=t(27),S="https://rfilm.mswan.ru/api/v1",I=function(){var e=Object(k.a)(w.a.mark((function e(a){var t,s,c,n,r,l,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new URLSearchParams,s=Object(C.a)(a);try{for(s.s();!(c=s.n()).done;)n=c.value,t.append("genre",n)}catch(o){s.e(o)}finally{s.f()}return r="".concat(S,"/films/?").concat(t),e.next=6,fetch(r);case 6:return l=e.sent,e.next=9,l.json();case 9:return i=e.sent,e.abrupt("return",{statusCode:l.status,data:i});case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(k.a)(w.a.mark((function e(a){var t,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S,"/films/").concat(a),e.next=3,fetch(t);case 3:return s=e.sent,e.next=6,s.json();case 6:return c=e.sent,e.abrupt("return",{statusCode:s.status,data:c});case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),U=function(){var e=Object(k.a)(w.a.mark((function e(a,t,s){var c,n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={username:a,email:t,password:s},n="".concat(S,"/users/"),e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:return r=e.sent,e.next=7,r.json();case 7:return l=e.sent,e.abrupt("return",{statusCode:r.status,data:l});case 9:case"end":return e.stop()}}),e)})));return function(a,t,s){return e.apply(this,arguments)}}(),E=function(){var e=Object(k.a)(w.a.mark((function e(a,t){var s,c,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(S,"/users/token"),(c=new FormData).append("username",a),c.append("password",t),e.next=6,fetch(s,{body:c,method:"post"});case 6:return n=e.sent,e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",{statusCode:n.status,data:r});case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),P=(t(69),function(e){var a=e.genres,t=Object(c.useState)([]),s=Object(o.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)(!0),i=Object(o.a)(l,2),d=i[0],b=i[1];return Object(c.useEffect)((function(){b(!0),I(a).then((function(e){r(e.data),b(!1)}))}),[a]),Object(m.jsx)(m.Fragment,{children:d?Object(m.jsx)(g,{isVisible:d}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"cards-film-container",children:n.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(j.b,{to:"/films/".concat(e.id),children:Object(m.jsxs)("div",{className:"cards-film",children:[Object(m.jsxs)("div",{className:"cards-film-poster",children:[Object(m.jsx)("img",{src:e.poster_url,alt:"poster film"},e.id),Object(m.jsx)(p,{})]}),Object(m.jsxs)("div",{className:"cards-film-content",children:[Object(m.jsxs)("div",{className:"cards-film-description",children:[Object(m.jsx)("h2",{className:"cards-film-title",children:e.title}),Object(m.jsxs)("p",{className:"cards-film-translate-name",children:[e.title_ru,", ",e.release_year]}),Object(m.jsxs)("p",{className:"cards-film-country",children:[e.country,", ",e.genre]}),Object(m.jsxs)("p",{className:"cards-film-director",children:["Directed by ","",Object(m.jsx)("span",{className:"director",children:e.director})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"cards-film-name-title",children:"Actors:"}),Object(m.jsx)("div",{className:"cards-film-image-wrapper",children:e.actors.slice(0,4).map((function(e){return Object(m.jsx)("img",{className:"img-actors",alt:"actors",src:e.photo_url},e.id)}))})]})]})]},e.id)})})}))})})})}),V=t(44),A=(t(70),[{value:"action",label:"Action"},{value:"mystery",label:"Mystery"},{value:"thriller",label:"Thriller"},{value:"comedy",label:"Comedy"},{value:"family",label:"Family"},{value:"history",label:"History"},{value:"sci-fi",label:"Sci-Fi"},{value:"war",label:"War"},{value:"adventure",label:"Adventure"},{value:"crime",label:"Crime"},{value:"fantasy",label:"Fantasy"},{value:"horror",label:"Horror"},{value:"animation",label:"Animation"},{value:"documentary",label:"Documentary"},{value:"biography",label:"Biography"},{value:"drama",label:"Drama"},{value:"musical",label:"Musical"}]),L=function(e){var a=e.setSelectedGenres;return Object(m.jsxs)("div",{className:"select-container",children:[Object(m.jsxs)("div",{className:"wrapper-checkbox",children:[Object(m.jsx)("input",{type:"checkbox",id:"checkbox1"}),Object(m.jsx)("label",{for:"checkbox1",disabled:!0,children:"most popular"})]}),Object(m.jsx)(V.a,{options:A,isMulti:!0,className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){a(e.map((function(e){return e.value})))}})]})},M=function(){var e=Object(c.useState)([]),a=Object(o.a)(e,2),t=a[0],s=a[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(L,{setSelectedGenres:s}),Object(m.jsx)(P,{genres:t})]})},R=t(88),_=(t(83),function(){var e=Object(d.f)().id,a=Object(R.a)("film",(function(){return F(e)})),t=a.isLoading,s=a.data;return Object(m.jsxs)("div",{children:[Object(m.jsx)(j.b,{to:"/",children:Object(m.jsx)(u,{className:"btn-back",children:"Back"})}),!t&&s?Object(m.jsxs)("div",{className:"film-page-container",children:[Object(m.jsx)("div",{className:"film-page-poster-wrapper",children:Object(m.jsx)("img",{className:"film-page-poster",src:s.data.poster_url,alt:"film poster"})}),Object(m.jsxs)("div",{className:"film-page-content",children:[Object(m.jsx)("h2",{className:"film-page-title",children:s.data.title}),Object(m.jsxs)("h3",{children:[s.data.title_ru,", ",s.data.release_year]}),Object(m.jsxs)("p",{className:"film-page-country",children:[s.data.country,", ",s.data.genre]}),Object(m.jsx)("p",{className:"film-page-description",children:s.data.description}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Actors:"}),Object(m.jsx)("div",{className:"film-page-image-wrapper",children:s.data.actors.map((function(e){return Object(m.jsx)("img",{className:"img-actors",alt:"actors",src:e.photo_url},e.id)}))})]})]})]}):Object(m.jsx)("h2",{children:"Loading..."})]})}),D=t(11),G=(t(39),function(e){var a=e.setIsModalVisible,t=Object(c.useState)({username:"",password:""}),s=Object(o.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)(!1),i=Object(o.a)(l,2),j=(i[0],i[1]),d=Object(c.useState)(""),b=Object(o.a)(d,2),u=b[0],O=b[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"modal-background",role:"dialog","aria-modal":"true",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h3",{className:"modal-title",children:"SIGN IN"}),Object(m.jsx)("button",{className:"modal-close-btn",onClick:function(){return a(!1)}})]}),Object(m.jsx)("div",{className:"form-body",children:Object(m.jsx)("form",{children:Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-label",children:"Username"}),Object(m.jsx)("input",{className:"form-field ".concat(u?"form-field-error":""),type:"text",autoComplete:"on",name:"username",placeholder:"Jonny",value:n.username,onChange:function(e){return r(Object(D.a)(Object(D.a)({},n),{},{username:e.target.value}))}})]}),Object(m.jsxs)("li",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-label",children:"Password"}),Object(m.jsx)("input",{className:"form-field ".concat(u?"form-field-error":""),type:"password",autoComplete:"on",name:"password",value:n.password,onChange:function(e){return r(Object(D.a)(Object(D.a)({},n),{},{password:e.target.value}))}})]}),Object(m.jsx)("p",{children:u}),Object(m.jsx)("li",{className:"form-group",children:Object(m.jsx)("button",{className:"login-submit-btn ".concat(n.username&&n.password?"":"btn-disabled"),type:"submit",onClick:function(e){e.preventDefault(),O(""),E(n.username,n.password).then((function(e){200===e.statusCode&&a(!1),e.statusCode>=400&&e.statusCode<500&&O(e.data.detail),j(!0)}))},disabled:!n.username||!n.password,children:"LOG IN"})})]})})}),Object(m.jsx)("footer",{className:"modal-footer",children:Object(m.jsxs)("p",{className:"modal-footer-paragraph",children:["Don't have an account?",Object(m.jsx)("button",{className:"login-footer-btn",children:"SIGN UP HERE"})]})})]})})})}),T={username:null,email:null,password:null},J=function(e){var a=e.setIsSignUpWindowVisible,t=Object(c.useState)({username:"",email:"",password:""}),s=Object(o.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)(!1),i=Object(o.a)(l,2),d=(i[0],i[1]),b=Object(c.useState)(T),u=Object(o.a)(b,2),O=u[0],h=u[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"modal-background",role:"dialog","aria-modal":"true",children:Object(m.jsxs)("div",{className:"modal-content height",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h3",{className:"modal-title",children:"SIGN UP FOR RATE FILM"}),Object(m.jsx)("button",{className:"modal-close-btn",onClick:function(){return a(!1)}})]}),Object(m.jsx)("div",{className:"form-body",children:Object(m.jsx)("form",{children:Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-label",children:"Your name on the website"}),Object(m.jsx)("input",{className:"form-field ".concat(O.username?"form-field-error":""),type:"text",name:"username",placeholder:"Jonny",value:n.username,onChange:function(e){return r(Object(D.a)(Object(D.a)({},n),{},{username:e.target.value}))}}),Object(m.jsx)("p",{className:"msg-error",children:O.username})]}),Object(m.jsxs)("li",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-label",children:"Email address"}),Object(m.jsx)("input",{className:"form-field ".concat(O.email?"form-field-error":""),type:"email",autoComplete:"on",name:"email",placeholder:"jonny@gmail.com",value:n.email,onChange:function(e){return r(Object(D.a)(Object(D.a)({},n),{},{email:e.target.value}))}}),Object(m.jsx)("p",{className:"msg-error",children:O.email})]}),Object(m.jsxs)("li",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-label",children:"Password"}),Object(m.jsx)("input",{className:"form-field ".concat(O.password?"form-field-error":""),type:"password",autoComplete:"on",name:"password",value:n.password,onChange:function(e){return r(Object(D.a)(Object(D.a)({},n),{},{password:e.target.value}))}}),Object(m.jsx)("p",{className:"msg-error",children:O.password})]}),Object(m.jsx)("li",{className:"form-group",children:Object(m.jsx)("button",{className:"login-submit-btn ".concat(n.username&&n.email&&n.password?"":"btn-disabled"),type:"submit",onClick:function(e){e.preventDefault(),h(T),U(n.username,n.email,n.password).then((function(e){if(200===e.statusCode&&a(!1),e.statusCode>=400&&e.statusCode<500){var t,s=Object(D.a)({},T),c=Object(C.a)(e.data.detail);try{for(c.s();!(t=c.n()).done;){var n=t.value;s[n.loc.slice(-1)[0]]=n.msg}}catch(r){c.e(r)}finally{c.f()}h(s)}d(!0)}))},disabled:!n.username||!n.email||!n.password,children:"CREATE YOUR ACCOUNT"})})]})})}),Object(m.jsxs)("footer",{className:"modal-footer",children:[Object(m.jsxs)("p",{className:"modal-footer-paragraph",children:["Already have an account?",Object(m.jsx)("button",{className:"signup-footer-link",children:"LOG IN HERE"})]}),Object(m.jsxs)("p",{className:"policy-text",children:["By creating an account, you agree to the"," ",Object(m.jsx)(j.b,{to:"https://www.fandango.com/policies/privacy-policy",className:"signup-footer-link small",children:"Privacy Policy"})," ","and the"," ",Object(m.jsxs)(j.b,{to:"https://www.fandango.com/policies/terms-and-policies",className:"signup-footer-link small",children:["Terms and Policies"," "]})]})]})]})})})};var W=function(){var e=Object(c.useState)(!1),a=Object(o.a)(e,2),t=a[0],s=a[1],n=Object(c.useState)(!1),r=Object(o.a)(n,2),l=r[0],i=r[1];return Object(m.jsxs)(j.a,{children:[Object(m.jsxs)("div",{children:[t&&Object(m.jsx)(G,{setIsModalVisible:s}),l&&Object(m.jsx)(J,{setIsSignUpWindowVisible:i})]}),Object(m.jsx)(O,{setIsModalVisible:s,setIsSignUpWindowVisible:i}),Object(m.jsx)("div",{className:"main-container",children:Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{path:"/films/:id",children:Object(m.jsx)(_,{})}),Object(m.jsx)(d.a,{path:"/",children:Object(m.jsx)(M,{})})]})})]})},B=new l.a,H=document.getElementById("root");r.a.render(Object(m.jsx)(i.a,{client:B,children:Object(m.jsx)(W,{})}),H)}},[[84,1,2]]]);
//# sourceMappingURL=main.62dccd3b.chunk.js.map